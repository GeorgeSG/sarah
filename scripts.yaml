# https://www.home-assistant.io/integrations/script

sarah_restart:
  alias: Restart SARAH
  sequence:
    service: homeassistant.restart

security_camera_on:
  alias: Turn Security Camera on
  sequence:
    - service: amcrest.goto_preset
      entity_id: camera.amcrest_camera
      data:
        preset: 1
    - service: amcrest.enable_motion_recording
      entity_id: camera.amcrest_camera
    - service: amcrest.enable_recording
      entity_id: camera.amcrest_camera
    - service: amcrest.enable_audio
      entity_id: camera.amcrest_camera

security_camera_off:
  alias: Turn Security Camera off
  sequence:
    - service: amcrest.goto_preset
      entity_id: camera.amcrest_camera
      data:
        preset: 3
    - service: amcrest.disable_motion_recording
      entity_id: camera.amcrest_camera
    - service: amcrest.disable_recording
      entity_id: camera.amcrest_camera
    - service: amcrest.disable_audio
      entity_id: camera.amcrest_camera

tv_chill:
  alias: TV Chill
  sequence:
    - service: media_extractor.play_media
      data:
        entity_id: media_player.living_room_tv_2
        media_content_id: "https://www.youtube.com/watch?v=UgHKb_7884o"
        media_content_type: video/youtube

latest_pds:
  alias: Play the latest PDS
  sequence:
    - service: media_extractor.play_media
      data_template:
        entity_id: media_player.living_room_tv_2
        media_content_id: "{{ state_attr('sensor.philip_defranco', 'url') }}"
        media_content_type: video/youtube

say:
  alias: Sonos TTS
  sequence:
    - service: sonos.snapshot
      data_template:
        entity_id: media_player.master_bedroom
    - delay: "00:00:03"
    # - service: media_player.play_media
    #   data:
    #     entity_id: media_player.master_bedroom
    #     media_content_id: http://REDACTED33:8123/local/sounds/two-tone-chime.mp3
    #     media_content_type: music
    # - delay: '00:00:02'
    - service: tts.amazon_polly_say
      data_template:
        entity_id: media_player.master_bedroom
        message: "{{ what }}"
    - delay: "00:00:03"
    - service: sonos.restore
      data_template:
        entity_id: media_player.master_bedroom
