automation:
  - alias: Lighting · Master bedroom · Toggle lights on bedside switch single click
    trigger:
      platform: event
      event_type: zha_event
      event_data:
        device_ieee: !secret master_bedroom_bedside_switch_ieee
        command: single
    action:
      - service: light.toggle
        data_template:
          entity_id: >-

            {% if is_state('input_select.house_mode', 'day') %}
              light.master_bedroom_main
            {% elif is_state('input_select.house_mode', 'bed') %}
              light.bedside, light.bed_led
            {% elif is_state('input_select.house_mode', 'night') %}
              light.bed_led
            {% endif %}
          brightness_pct: >-

            {% if is_state('input_select.house_mode', 'night') %}
              40
            {% else %}
              100
            {% endif %}

  - alias: Lighting · Master bedroom · Toggle ambient lights on bedside switch double click
    trigger:
      platform: event
      event_type: zha_event
      event_data:
        device_ieee: !secret master_bedroom_bedside_switch_ieee
        command: double
    action:
      - service: light.toggle
        data_template:
          entity_id:
            - light.bedside
            - light.bed_led
          brightness_pct: 100

  - alias: House mode · Toggle on bedside switch hold
    trigger:
      - platform: event
        event_type: zha_event
        event_data:
          device_ieee: !secret master_bedroom_bedside_switch_ieee
          command: hold
    action:
      - service: input_select.select_next
        entity_id: input_select.house_mode
