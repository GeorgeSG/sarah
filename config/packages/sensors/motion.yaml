group:
  all_motion_sensors:
    name: All motion_sensors
    entities:
      - binary_sensor.hallway_motion_occupancy
      - binary_sensor.kitchen_motion_occupancy
      - binary_sensor.multisensor_motion
      - binary_sensor.trisensor_home_security_motion_detection

  hallway_motion:
    name: Hallway Motion
    entities:
      - binary_sensor.hallway_motion_occupancy
      - binary_sensor.hallway_motion_2_occupancy
      # - binary_sensor.trisensor_home_security_motion_detection

mqtt:
  binary_sensor:
    - name: "Hallway motion occupancy"
      state_topic: "z2m_deconz/hallway_motion"
      availability_topic: "z2m_deconz/bridge/state"
      payload_on: true
      payload_off: false
      value_template: "{{ value_json.occupancy }}"
      device_class: "motion"
    - name: "Hallway motion 2 occupancy"
      state_topic: "z2m_deconz/hallway_motion_2"
      availability_topic: "z2m_deconz/bridge/state"
      payload_on: true
      payload_off: false
      value_template: "{{ value_json.occupancy }}"
      device_class: "motion"
    - name: "Kitchen motion occupancy"
      state_topic: "z2m_deconz/kitchen_motion"
      availability_topic: "z2m_deconz/bridge/state"
      payload_on: true
      payload_off: false
      value_template: "{{ value_json.occupancy }}"
      device_class: "motion"

  sensor:
    # Hallway Motion
    - name: "Hallway motion illuminance"
      state_topic: "z2m_deconz/hallway_motion"
      availability_topic: "z2m_deconz/bridge/state"
      device_class: "illuminance"
      value_template: "{{ value_json.illuminance_lux }}"
    - name: "Hallway motion battery"
      state_topic: "z2m_deconz/hallway_motion"
      availability_topic: "z2m_deconz/bridge/state"
      unit_of_measurement: "%"
      device_class: "battery"
      value_template: "{{ value_json.battery }}"
    - name: "Hallway motion LQI"
      state_topic: "z2m_deconz/hallway_motion"
      availability_topic: "z2m_deconz/bridge/state"
      unit_of_measurement: "lqi"
      device_class: "signal_strength"
      value_template: "{{ value_json.linkquality }}"

    # Hallway Motion 2
    - name: "Hallway motion 2 illuminance"
      state_topic: "z2m_deconz/hallway_motion_2"
      availability_topic: "z2m_deconz/bridge/state"
      device_class: "illuminance"
      value_template: "{{ value_json.illuminance_lux }}"
    - name: "Hallway motion 2 battery"
      state_topic: "z2m_deconz/hallway_motion_2"
      availability_topic: "z2m_deconz/bridge/state"
      unit_of_measurement: "%"
      device_class: "battery"
      value_template: "{{ value_json.battery }}"
    - name: "Hallway motion 2 LQI"
      state_topic: "z2m_deconz/hallway_motion_2"
      availability_topic: "z2m_deconz/bridge/state"
      unit_of_measurement: "lqi"
      device_class: "signal_strength"
      value_template: "{{ value_json.linkquality }}"

    # Kitchen Motion
    - name: "Kitchen motion illuminance"
      state_topic: "z2m_deconz/kitchen_motion"
      availability_topic: "z2m_deconz/bridge/state"
      device_class: "illuminance"
      value_template: "{{ value_json.illuminance_lux }}"
    - name: "Kitchen motion battery"
      state_topic: "z2m_deconz/kitchen_motion"
      availability_topic: "z2m_deconz/bridge/state"
      unit_of_measurement: "%"
      device_class: "battery"
      value_template: "{{ value_json.battery }}"
    - name: "Kitchen motion LQI"
      state_topic: "z2m_deconz/kitchen_motion"
      availability_topic: "z2m_deconz/bridge/state"
      unit_of_measurement: "lqi"
      device_class: "signal_strength"
      value_template: "{{ value_json.linkquality }}"
