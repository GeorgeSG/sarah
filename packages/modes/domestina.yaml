input_boolean:
  domestina:
    name: Domestina time
    icon: mdi:broom

group:
  domestina_disabled_automations:
    - automation.presence_arrival_detection
    - automation.coming_home
    - automation.leaving_work_to_home
    - automation.leaving_home
    - automation.enable_sleep_mode
    - automation.disable_sleep_mode
    - automation.sleep_toggle_on_switch_tap
    - automation.cube_knock
    - automation.cube_shake
    - automation.bedtime_toggle_on_master_bedroom_bedside_switch_hold

automation:
  - id: domestina_automate_start
    alias: Domestina 路 Automate start
    trigger:
      platform: time
      at: "08:30:00"
    condition:
      - condition: time
        weekday: thu
    action:
      - service: input_boolean.turn_on
        entity_id: input_boolean.domestina

  - id: domestina_start
    alias: Domestina 路 Start
    trigger:
      platform: state
      entity_id: input_boolean.domestina
      from: "off"
      to: "on"
    action:
      - service: input_boolean.turn_on
        entity_id: input_boolean.guest_mode
      - service: automation.turn_off
        entity_id: group.domestina_disabled_automations

  - id: domestina_automate_end
    alias: Domestina 路 Automate end
    trigger:
      platform: time
      at: "13:00:00"
    condition:
      - condition: time
        weekday: thu
    action:
      - service: input_boolean.turn_off
        entity_id: input_boolean.domestina

  - id: domestina_end
    alias: Domestina 路 End
    trigger:
      platform: state
      entity_id: input_boolean.domestina
      from: "on"
      to: "off"
    action:
      - service: input_boolean.turn_off
        entity_id: input_boolean.guest_mode
      - service: automation.turn_on
        entity_id: group.domestina_disabled_automations
