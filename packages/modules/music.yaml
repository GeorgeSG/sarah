group:
  all_sonos:
    name: "All Sonos"
    entities:
      - media_player.master_bedroom
      - media_player.living_room
      - media_player.kitchen

script:
  music_play:
    alias: "Music · Play"
    sequence:
      - service: media_player.volume_set
        entity_id: media_player.master_bedroom
        data_template:
          volume_level: "{{ volume | default(0.3) }}"
      - service: media_player.shuffle_set
        entity_id: media_player.master_bedroom
        data_template:
          shuffle: "{{ shuffle | default(true) }}"
      - service: media_player.select_source
        entity_id: media_player.master_bedroom
        data_template:
          source: "{{ playlist | default('Evening Chill') }}"

  music_join_sonoses:
    alias: "Music · Join Sonoses"
    sequence:
      - service: sonos.join
        entity_id:
          - media_player.living_room
          - media_player.kitchen
        data:
          master: media_player.master_bedroom
